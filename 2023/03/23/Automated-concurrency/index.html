



<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="Kaiwen Shi's Blog" href="http://skwkevin.com/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="Kaiwen Shi's Blog" href="http://skwkevin.com/atom.xml" />
<link rel="alternate" type="application/json" title="Kaiwen Shi's Blog" href="http://skwkevin.com/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  
  <meta name="keywords" content="Concurrency,Incorrectness Separation Logic,Automation" />


<link rel="canonical" href="http://skwkevin.com/2023/03/23/Automated-concurrency/">



  <title>
关于Automated concurrency的近年进展调研 - Notes |
Yume Shoka = Kaiwen Shi's Blog</title>
<meta name="generator" content="Hexo 5.4.2">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">关于Automated concurrency的近年进展调研
  </h1>
  
<div class="meta">
  <span class="item" title="Created: 2023-03-23 01:34:08">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">Posted on</span>
    <time itemprop="dateCreated datePublished" datetime="2023-03-23T01:34:08+08:00">2023-03-23</time>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="Toggle navigation bar">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">Yume Shoka</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipetv6p75j20zk0m8x6p.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giph4baakhj20zk0m8h5q.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclip4jbpj20zk0m87cv.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclga70tsj20zk0m84mr.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclx6phq6j20zk0m8e36.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclwuom7cj20zk0m8dvn.jpg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">Home</a></span><i class="ic i-angle-right"></i>
<span  class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Notes/" itemprop="item" rel="index" title="In Notes"><span itemprop="name">Notes</span></a>
<meta itemprop="position" content="1" /></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="en">
  <link itemprop="mainEntityOfPage" href="http://skwkevin.com/2023/03/23/Automated-concurrency/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar.jpg">
    <meta itemprop="name" content="Kaiwen Shi">
    <meta itemprop="description" content=", ">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Kaiwen Shi's Blog">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph LR;</span><br><span class="line">	A(Incorrectness logic &lt;br/&gt; A novel concept) --&gt; B(Incorrectness separation logic &lt;br/&gt; Incorrectness logic + Separation logic &lt;br/&gt; Tool: Pulse);</span><br><span class="line">	B(Incorrectness separation logic &lt;br/&gt; Incorrectness logic + Separation logic &lt;br/&gt; Tool: Pulse) --&gt; C(Concurrent Incorrectness separation logic &lt;br/&gt; Incorrectness separation logic + Concurrent separation logic);</span><br><span class="line">	B(Incorrectness separation logic &lt;br/&gt; Incorrectness logic + Separation logic &lt;br/&gt; Tool: Pulse) --&gt; D(Finding real bugs in big programs &lt;br/&gt; Tool: Pulse-X);</span><br><span class="line">	E(Checking data race / OOPSLA 2018 &lt;br/&gt; Tool: RacerD 2018) --&gt; C(Concurrent Incorrectness separation logic &lt;br/&gt; Incorrectness separation logic + Concurrent separation logic);</span><br><span class="line">	F(Checking deadlock / ASE 2021 &lt;br/&gt; Tool in Facebook ) --&gt; C(Concurrent Incorrectness separation logic &lt;br/&gt; Incorrectness separation logic + Concurrent separation logic);</span><br></pre></td></tr></tbody></table></figure>

<p>Any gaps exist?</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph LR;</span><br><span class="line">	A(Iris&lt;br/&gt;) --&gt; B(Diaframe &lt;br/&gt; Automated? Verification of Fine-Grained Concurrent Programs in Iris);</span><br></pre></td></tr></tbody></table></figure>



<p>Corresponding paper:</p>
<p><em>Incorrectness Logic</em> (POPL 2020)</p>
<p><em>Local Reasoning About the Presence of Bugs: Incorrectness Separation Logic</em> (CAV 2020)</p>
<blockquote>
<p>  Although such tools intuitively share ideas with correctness-based compositional analyses, the existing foundations of <strong>correctness-based analyses</strong> do not adequately explain what these <strong>bug-catchers</strong> do, why they work, or the extent to which they work in practice. A notable such example is the relation between separation logic (SL) and Infer.</p>
</blockquote>
<p><em>Concurrent Incorrectness Separation Logic</em> (POPL 2022)</p>
<p><em>Finding Real Bugs in Big Programs with Incorrectness Logic</em> (OPASLA 2022)</p>
<p><em><strong>Pulse</strong></em>: Memory and lifetime analysis</p>
<p>Using it to detect <strong>memory safety bugs</strong>, namely null-pointer-dereference and use-after-free bugs.</p>
<p>Pulse is an inter-procedural memory safety analysis. Pulse can detect, for instance, Null dereferences in Java. Errors are only reported when all conditions on the erroneous path are true regardless of input. Pulse should gradually replace the original bi-abduction analysis of Infer.</p>
<p><em><strong>RacerD</strong></em>: Thread safety analysis (Not based on separation logic’s formalism)</p>
<p>RacerD finds data races in C++/Objective C and Java code. This analysis does not attempt to prove the absence of concurrency issues, rather, it searches for a high-confidence class of data races.</p>
<p>There are many types of concurrency issues out there that RacerD does not check for (but might in the future). Examples include deadlock, atomicity, and check-then-act bugs (shown below). You must look for these bugs yourself!</p>
<p><em><strong>CISL</strong></em></p>
<p>Inspired by the <strong>under-approximate analyses</strong> of RacerD and a deadlock detector.</p>
<p>CISL framework: CISL<del>DC</del> (CISL with disjoint concurrency) for detecting memory safety bugs, CISL<del>RD</del> (CISL with race detection) for detecting races on shared memory, and CISL~DD&nbsp;~ (CISL with deadlock detection) for detecting deadlock scenarios.</p>
<p><strong>CISLSV</strong> (sv怎么设计的)</p>
<p><em><strong>Pulse-X</strong></em> (自动化怎么驱动的)</p>
<p>A new, automatic program analysis for catching memory errors, based on ISL. 15 new real bugs in OpenSSL have been found, which we have reported to OpenSSL.</p>
<p>接下来</p>
<p><strong>CISL<del>SV</del></strong> (sv怎么设计的)</p>
<p>Reasoning about the high-level (abstract) representation of the state</p>
<p>the high-level states are typically modelled by a partial commutative monoid (PCM)</p>
<p>CISL<del>DC</del> for disjoint concurrency, so what about shared concurrency? So using CISL<del>SV</del></p>
<blockquote>
<p>$with_\tau r\ do\ C$ 是 $acq_\tau r; C; rel_\tau$的简略表达</p>
<p>$res_\mathcal{S}^r(\tau:n)$ describes the resources necessary for $\tau$ to acquire $r$ with subvariant $\mathcal{S}$, where $n$ denotes the contribution of $\tau$ on $r$: the number of times $\tau$ has accessed $r$.</p>
</blockquote>
<p>SV-CS<br>$$<br>\frac{\forall m\geq n. [p<em>\mathcal{S}(m)]\ C\ [ok: q</em>\mathcal{S}(m+1)]\quad stable(p, q)}{[p<em>res_\mathcal{S}^r(\tau:n)]\ with_\tau r\ do\ C\ [ok: q</em>res_\mathcal{S}^r(\tau:n+1)]}<br>$$</p>
<p>permission: 表示当前线程$\tau$已经访问共享资源$r$的次数$n$。从线程的角度描述它所能访问的共享资源</p>
<p>resource map: 记录了共享资源$r$，被哪个线程$o$所持有，此时的subvariant $\mathcal{S}$，和记录了已经访问该共享资源$r$的线程以及相关次数之间的映射$t$。从共享资源的角度描述</p>
<p><em><strong>Pulse-X</strong></em> (自动化怎么驱动的)</p>
<p><strong>CSL Family Tree</strong></p>
<p>![image-20230321162541448](D:\Program Files (x86)\Typora\typora-user-images\image-20230321162541448.png)</p>
<p>Some nature idea:</p>
<p>Send / receive concurrency?</p>
<p>Disjoint / shared concurrency get together?</p>
<hr>
<p>CISL as a parametric framework</p>
<p>can be instantiated for a number of bug catching scenarios, including race detection, deadlock detection, and memory safety error detection</p>
<p>detect that the subset of program behaviours has bugs</p>
<ul>
<li><p>no well-understood or unifying theory underpinning such under-approximate analyses</p>
</li>
<li><p>spend a significant amount of technical effort proving a no-false-positives(NFP) theorem, stating that the bugs found by the tool are indeed real bugs, and such theorem is customized</p>
</li>
<li><p>So need a unifying theory that underpins concurrent under-approximate reasoning(for proving incorrectness, i.e. the presence of bugs)</p>
</li>
<li><p>ISL only apply to sequential programs and do not support reasoning about concurrent bug catching analyses.</p>
</li>
</ul>
<p>Why “parametric”?</p>
<p>A disturbing trend for each new library or concurrency primitive to require a new separation logic.</p>
<p>CISL allows us to prove triples of the form $[p]\ C\ [\epsilon :q]$, stating that <em>every</em> state in $q$ is reachable by executing $C$ starting in <em>some</em> state in $p$. The $\epsilon$ denotes an exit condition that may be either $\color{green}ok$ to denote normal (non-erroneous) execution, or $\epsilon \in \text{ErExit}$ to denote a buggy (erroneous) execution ($\text{ErExit}$ is supplied to CISL as a parameter to distinguish different classes of bugs such as memory safety errors, races and so forth).</p>
<p>How does the $\text{L}$ come from?</p>
<p>To better track memory safety errors and connect them to culprit instructions, we annotate instructions that may cause such errors with a label $\text{L} \in Label$. As we demonstrate shortly, when an error is encountered we report the label of the offending instruction (e.g. $\text{L}$).</p>
<p>注意一下thread-locality</p>
<p>CISL<del>SV</del> state: triple $s=(l, p, \rho)$, $l\in LState$ is a <em>local state</em>, $p\in Perm$ is a <em>permission</em> and $\rho\in RMap$ is a <em>shared resource map</em>.</p>

      <div class="tags">
          <a href="/tags/Concurrency/" rel="tag"><i class="ic i-tag"></i> Concurrency</a>
          <a href="/tags/Incorrectness-Separation-Logic/" rel="tag"><i class="ic i-tag"></i> Incorrectness Separation Logic</a>
          <a href="/tags/Automation/" rel="tag"><i class="ic i-tag"></i> Automation</a>
      </div>
  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">Edited on</span>
    <time title="Modified: 2023-03-23 01:43:31" itemprop="dateModified" datetime="2023-03-23T01:43:31+08:00">2023-03-23</time>
  </span>
</div>

      
<div class="reward">
  <button><i class="ic i-heartbeat"></i> Donate</button>
  <p>Give me a cup of [coffee]~(￣▽￣)~*</p>
  <div id="qr">
      
      <div>
        <img data-src="/images/wechatpay.png" alt="Kaiwen Shi WeChat Pay">
        <p>WeChat Pay</p>
      </div>
      
      <div>
        <img data-src="/images/alipay.png" alt="Kaiwen Shi Alipay">
        <p>Alipay</p>
      </div>
      
      <div>
        <img data-src="/images/paypal.png" alt="Kaiwen Shi PayPal">
        <p>PayPal</p>
      </div>
  </div>
</div>

      

<div id="copyright">
<ul>
  <li class="author">
    <strong>Post author:  </strong>Kaiwen Shi <i class="ic i-at"><em>@</em></i>Kaiwen Shi's Blog
  </li>
  <li class="link">
    <strong>Post link: </strong>
    <a href="http://skwkevin.com/2023/03/23/Automated-concurrency/" title="关于Automated concurrency的近年进展调研">http://skwkevin.com/2023/03/23/Automated-concurrency/</a>
  </li>
  <li class="license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> unless stating additionally.
  </li>
</ul>
</div>

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/2023/03/22/hello-world/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giph47e9vtj20zk0m8x6l.jpg" title="与Hexo的第一次尝试">
  <span class="type">Previous Post</span>
  <span class="category"><i class="ic i-flag"></i> Hexo</span>
  <h3>与Hexo的第一次尝试</h3>
  </a>

    </div>
    <div class="item right">
    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="Contents">
      </div>
      <div class="related panel pjax" data-title="Related">
        <ul>
          <li class="active"><a href="/2023/03/23/Automated-concurrency/" rel="bookmark" title="关于Automated concurrency的近年进展调研">关于Automated concurrency的近年进展调研</a></li>
        </ul>
      </div>
      <div class="overview panel" data-title="Overview">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="Kaiwen Shi"
      data-src="/images/avatar.jpg">
  <p class="name" itemprop="name">Kaiwen Shi</p>
  <div class="description" itemprop="description"></div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">2</span>
        <span class="name">posts</span>
      </a>
    </div>
    <div class="item categories">
      <a href="/categories/">
        <span class="count">2</span>
        <span class="name">categories</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">4</span>
        <span class="name">tags</span>
      </a>
    </div>
</nav>

<div class="social">
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>Home</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          
<div class="rpost pjax">
  <h2>Random Posts</h2>
  <ul>
      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/Notes/" title="In Notes">Notes</a>
</div>

    <span><a href="/2023/03/23/Automated-concurrency/" title="关于Automated concurrency的近年进展调研">关于Automated concurrency的近年进展调研</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/Hexo/" title="In Hexo">Hexo</a>
</div>

    <span><a href="/2023/03/22/hello-world/" title="与Hexo的第一次尝试">与Hexo的第一次尝试</a></span>
  </li>

  </ul>
</div>
<div>
  <h2>Recent Comments</h2>
  <ul class="leancloud-recent-comment"></ul>
</div>

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2010 – 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Kaiwen Shi @ Yume Shoka</span>
  </div>
  <div class="powered-by">
    Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2023/03/23/Automated-concurrency/',
    favicon: {
      show: "（●´3｀●）Goooood",
      hide: "(´Д｀)Booooom"
    },
    search : {
      placeholder: "Search for Posts",
      empty: "We didn't find any results for the search: ${query}",
      stats: "${hits} results found in ${time} ms"
    },
    valine: true,fancybox: true,
    copyright: 'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
